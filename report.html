<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="copyright" content="Copyright (c) 2025 ê¹€í•´í˜„. All Rights Reserved.">
    <meta name="author" content="ê¹€í•´í˜„">
    <title>RE: ê°„í¸í•´ì§„ ë³´ê³ ì„œ ì‘ì„±</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RWS3BEEQ84"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RWS3BEEQ84');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9257454501555292"
         crossorigin="anonymous"></script>
    

    <!-- Stylesheets -->
    <link rel="stylesheet" href="src/css/base/variables.css?v=20241118003">
    <link rel="stylesheet" href="src/css/base/base.css">
    <link rel="stylesheet" href="src/css/base/layout.css">
    <link rel="stylesheet" href="src/css/components/components-base.css?v=20241118003">
    <link rel="stylesheet" href="src/css/components/components-layout.css">
    <link rel="stylesheet" href="src/css/base/browser-compatibility.css">
    <link rel="stylesheet" href="src/css/components/header-unified.css">
    <link rel="stylesheet" href="src/css/components/glass-effects.css">
    <link rel="stylesheet" href="src/css/components/markdown-and-usage.css">
    <link rel="stylesheet" href="src/css/components/buttons-unified.css?v=20251117001">
    <link rel="stylesheet" href="src/css/components/toast.css">
    <link rel="stylesheet" href="src/css/pages/report-unified.css?v=20251117008">
    <link rel="stylesheet" href="src/css/pages/report-unified-override.css?v=20251117004">
    <link rel="stylesheet" href="src/css/pages/report-theme.css">
    <link rel="stylesheet" href="src/css/components/glass-theme-fix.css?v=20241118003">

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì œê±° ì™„ë£Œ - report-theme.cssë¡œ ì´ë™ -->
</head>

<body>
    <!-- Toast ì•Œë¦¼ -->
    <div id="toast" class="toast"></div>

    <!-- í—¤ë” (JSì—ì„œ ì£¼ì…) -->
    <div class="header"></div>

    <!-- ì±—ë´‡ ëª¨ë‹¬ -->
    <div class="chatbot-modal" id="chatbotModal">
        <div class="chatbot-header">
            <h3>AI ì±—ë´‡</h3>
            <button class="chatbot-close-btn" id="chatbotCloseBtn" title="ë‹«ê¸°">Ã—</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chat-welcome-message">
                <p>ì•ˆë…•í•˜ì„¸ìš”, ìƒë‹´ ë³´ê³ ì„œ ì‘ì„±ì„ ë•ëŠ” AI ì±—ë´‡ì…ë‹ˆë‹¤.</p>
                <p>í•„ìš”í•œ í…œí”Œë¦¿, ë§íˆ¬, êµ¬ì¡° ë“±ì„ ìì—°ì–´ë¡œ ìš”ì²­í•´ ì£¼ì„¸ìš”.</p>
                <p class="chat-welcome-example">ì˜ˆì‹œ: "ê°œì… ê¸°ë²• ì„¹ì…˜ì„ ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ì¤˜"</p>
            </div>
        </div>
        <div class="chatbot-input-area">
            <textarea
                id="chatbotInput"
                placeholder="ìš”ì²­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. (ì˜ˆ: 'ìƒë‹´ ê³¼ì •ì„ ë” ìì„¸í•˜ê²Œ ì •ë¦¬í•´ì¤˜')"
                rows="3"
                maxlength="500"></textarea>
            <div class="chatbot-controls">
                <div class="chatbot-toggles">
                    <label class="chatbot-toggle-switch" title="Groq ëª¨ë¸ ì‚¬ìš©">
                        <input type="checkbox" id="toggleGroq" checked>
                        <span class="chatbot-toggle-slider"></span>
                        <span class="chatbot-toggle-label">Groq</span>
                    </label>
                    <label class="chatbot-toggle-switch" title="GPT ëª¨ë¸ ì‚¬ìš©">
                        <input type="checkbox" id="toggleGPT" checked>
                        <span class="chatbot-toggle-slider"></span>
                        <span class="chatbot-toggle-label">GPT</span>
                    </label>
                </div>
                <button class="chatbot-send-btn" id="btnSendChat">
                    <span class="send-text">ìš”ì²­</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ì±—ë´‡ ì˜¤ë²„ë ˆì´ -->
    <div class="chatbot-overlay" id="chatbotOverlay"></div>

    <!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
    <main class="page-container report-page">
        <div class="report-layout" id="reportLayout">
            <!-- ë©”ì¸ ì½˜í…ì¸  -->
            <div class="main-area report-workspace">
                <!-- ì¶œë ¥ íŒ¨ë„ -->
                <section class="output-area-compact" id="outputArea">
                    <div class="output-empty-state" id="emptyState">
                        <div class="empty-hero">
                            <h1 class="empty-title">RE:</h1>
                            <div class="empty-divider"></div>
                            <p class="empty-description">ê°„í¸í•´ì§„ ë³´ê³ ì„œ ì‘ì„±</p>
                            <p class="empty-subdescription">ìƒë‹´ ë©”ëª¨ê°€ ì „ë¬¸ ë³´ê³ ì„œë¡œ ë³€í™˜ë©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                    <div class="output-tabs-container is-hidden" id="outputTabs">
                        <div class="output-tabs-header">
                            <button class="output-tab" data-tab="groq" onclick="switchOutputTab('groq')">Groq</button>
                            <button class="output-tab active" data-tab="compare" onclick="switchOutputTab('compare')">ë¹„êµ</button>
                            <button class="output-tab" data-tab="gpt" onclick="switchOutputTab('gpt')">GPT-4o-mini</button>
                        </div>
                        <div class="output-tab-panel active" id="tabCompare">
                            <div class="output-compare-container">
                                <div class="output-compare-panel">
                                    <div class="output-header-compact">
                                        <span class="output-count" id="groqCountCompare">0ê±´</span>
                                        <button class="btn btn--success btn--small" onclick="copyToClipboard('groq')" id="groqCopyBtnCompare" disabled>ë³µì‚¬</button>
                                    </div>
                                    <div class="loading is-hidden" id="groqLoadingCompare">
                                        <span class="spinner"></span>
                                        <span id="groqLoadingTextCompare">Groq AIê°€ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</span>
                                    </div>
                                    <div class="output-content is-hidden" id="groqOutputCompare"></div>
                                </div>
                                <div class="output-compare-panel">
                                    <div class="output-header-compact">
                                        <span class="output-count" id="gptCountCompare">0ê±´</span>
                                        <button class="btn btn--success btn--small" onclick="copyToClipboard('gpt')" id="gptCopyBtnCompare" disabled>ë³µì‚¬</button>
                                    </div>
                                    <div class="loading is-hidden" id="gptLoadingCompare">
                                        <span class="spinner"></span>
                                        <span id="gptLoadingTextCompare">GPT-4o-miniê°€ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</span>
                                    </div>
                                    <div class="output-content is-hidden" id="gptOutputCompare"></div>
                                </div>
                            </div>
                        </div>
                        <div class="output-tab-panel" id="tabGroq">
                            <div class="output-header-compact">
                                <span class="output-count" id="groqCount">0ê±´</span>
                                <button class="btn btn--success btn--small" onclick="copyToClipboard('groq')" id="groqCopyBtn" disabled>ë³µì‚¬</button>
                            </div>
                            <div class="loading is-hidden" id="groqLoading">
                                <span class="spinner"></span>
                                <span id="groqLoadingText">Groq AIê°€ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</span>
                            </div>
                            <div class="output-content is-hidden" id="groqOutput"></div>
                        </div>
                        <div class="output-tab-panel" id="tabGpt">
                            <div class="output-header-compact">
                                <span class="output-count" id="gptCount">0ê±´</span>
                                <button class="btn btn--success btn--small" onclick="copyToClipboard('gpt')" id="gptCopyBtn" disabled>ë³µì‚¬</button>
                            </div>
                            <div class="loading is-hidden" id="gptLoading">
                                <span class="spinner"></span>
                                <span id="gptLoadingText">GPT-4o-miniê°€ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</span>
                            </div>
                            <div class="output-content is-hidden" id="gptOutput"></div>
                        </div>
                    </div>
                </section>

                <!-- ì…ë ¥ íŒ¨ë„ -->
                <section class="input-area-compact">
                    <div class="input-header-compact">
                        <h1 class="memo-title">ìƒë‹´ ë©”ëª¨</h1>
                        <div class="input-divider"></div>
                        <div class="input-actions-compact">
                            <button class="btn btn--secondary btn--small" onclick="saveReport()" title="í˜„ì¬ ì‘ì—…ì„ ì•ˆì „í•˜ê²Œ ì €ì¥í•©ë‹ˆë‹¤.">ğŸ’¾</button>
                            <button class="btn btn--secondary btn--small" onclick="showReportHistory()" title="ì €ì¥ëœ ë³´ê³ ì„œë¥¼ í™•ì¸í•©ë‹ˆë‹¤.">ğŸ“‹</button>
                            <button class="btn btn--secondary btn--small" onclick="showKeyboardShortcuts()" title="ë‹¨ì¶•í‚¤ ì•ˆë‚´">ğŸ’¡</button>
                            <button class="btn btn--danger btn--small" onclick="clearInput()" title="ì…ë ¥ ë‚´ìš© ì§€ìš°ê¸°" style="margin-left: auto;">ğŸ—‘ï¸</button>
                            <button class="btn btn--primary btn--small" id="chatbotToggleBtn" onclick="toggleChatbot()" title="AI ì±—ë´‡ ì—´ê¸°">ğŸ¤–</button>
                        </div>
                    </div>
                    <div class="error-message" id="errorMessage"></div>
                    <div class="textarea-wrapper">
                        <textarea
                            class="input input--textarea input-textarea-compact"
                            id="inputText"
                            placeholder="ìƒë‹´ ë‚´ìš©ì„ ììœ ë¡­ê²Œ ì‘ì„±í•˜ì„¸ìš”. (ìµœëŒ€ 6,000ì)"
                            maxlength="6000"
                            oninput="updateCharCount()"
                            onkeydown="handleKeyDown(event)"></textarea>
                        <div class="char-count-overlay">
                            <span id="inputCount">0</span> / 6,000ì
                        </div>
                    </div>
                    <div class="generate-button-area">
                        <button
                            class="btn btn--primary btn--large btn-generate"
                            onclick="generateJournals(event)"
                            id="generateBtn">ë³´ê³ ì„œ ìƒì„±</button>
                        <div class="usage-badge-inline" title="ì˜¤ëŠ˜ ìƒì„± ê°€ëŠ¥ íšŸìˆ˜">
                            <span class="usage-label">ì˜¤ëŠ˜:</span>
                            <span class="usage-count" id="usageCountInline">0</span>
                            <span class="usage-separator">/</span>
                            <span class="usage-limit">30íšŒ</span>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- JavaScript íŒŒì¼ -->
    <script src="js/browser-polyfills.js"></script>
    <script src="js/usage-core.js?v=20251109004"></script>
    <script src="js/common-components.js?v=20251109001"></script>
    <script src="js/security.js?v=20251109001"></script>
    <script src="js/config/app-constants.js?v=20251111001"></script>
    <script src="js/config/model-configs.js?v=20251111001"></script>
    <script src="js/preset-manager.js?v=20251109001"></script>
    <script src="js/report-data-manager.js?v=20251109001"></script>
    <script src="js/ui-utils.js?v=20251109001"></script>
    <script src="js/modules/settings-storage.js"></script>
    <script src="js/modules/ui-controls.js"></script>
    <script src="js/app.js?v=20251109001"></script>
    <script src="js/autosave.js?v=20251109001"></script>
    <script src="js/ui-enhancements.js?v=20251109001"></script>
    <script src="js/settings-preview.js?v=20251109001"></script>
    <script src="js/report-adapter.js?v=20251109001"></script>
    <script src="js/resize-handler.js?v=20251109001"></script>
    <script src="js/chatbot.js?v=20251109001"></script>
    <script src="js/report-ui.js?v=20251109001"></script>
    <script src="js/markdown-renderer.js?v=20251109001"></script>
    <script src="js/compare-tab-fix.js?v=20251112001"></script>
    <script src="js/input-validation.js?v=20251109001"></script>
    <script src="js/usage-bridge.js?v=20251109004"></script>

    <!-- ì±—ë´‡ í† ê¸€ í•¨ìˆ˜ -->
    <script>
        function showKeyboardShortcuts() {
            toggleShortcutsModal();
        }
        
        function toggleShortcutsModal() {
            const existingModal = document.getElementById('shortcutsModal');
            if (existingModal) {
                existingModal.remove();
                return;
            }
            
            const html = `
                <div class="shortcuts-modal" id="shortcutsModal" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;" onclick="if(event.target.id === 'shortcutsModal') this.remove();">
                    <div class="shortcuts-content" style="background: var(--bg-secondary); border-radius: 12px; padding: 30px; max-width: 600px; max-height: 80vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(0,0,0,0.3);" onclick="event.stopPropagation();">
                        <div class="shortcuts-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid var(--border-color); padding-bottom: 15px;">
                            <h2 style="font-size: 1.5em; color: var(--text-primary); margin: 0;">ğŸ’¡ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</h2>
                            <button onclick="document.getElementById('shortcutsModal').remove()" style="background: none; border: none; font-size: 1.5em; color: var(--text-tertiary); cursor: pointer; padding: 5px 10px;">âœ•</button>
                        </div>
                        <div class="shortcuts-list" style="display: flex; flex-direction: column; gap: 12px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-primary); border-radius: 8px;">
                                <kbd style="background: var(--bg-tertiary); padding: 6px 12px; border-radius: 6px; font-family: monospace; font-size: 0.9em; border: 1px solid var(--border-color);">Ctrl+Enter</kbd>
                                <span style="color: var(--text-secondary); flex: 1; margin-left: 20px;">ë³´ê³ ì„œ ì‘ì„±</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-primary); border-radius: 8px;">
                                <kbd style="background: var(--bg-tertiary); padding: 6px 12px; border-radius: 6px; font-family: monospace; font-size: 0.9em; border: 1px solid var(--border-color);">Ctrl+1</kbd>
                                <span style="color: var(--text-secondary); flex: 1; margin-left: 20px;">Groq ê²°ê³¼ ë³µì‚¬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-primary); border-radius: 8px;">
                                <kbd style="background: var(--bg-tertiary); padding: 6px 12px; border-radius: 6px; font-family: monospace; font-size: 0.9em; border: 1px solid var(--border-color);">Ctrl+2</kbd>
                                <span style="color: var(--text-secondary); flex: 1; margin-left: 20px;">GPT ê²°ê³¼ ë³µì‚¬</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-primary); border-radius: 8px;">
                                <kbd style="background: var(--bg-tertiary); padding: 6px 12px; border-radius: 6px; font-family: monospace; font-size: 0.9em; border: 1px solid var(--border-color);">Ctrl+/</kbd>
                                <span style="color: var(--text-secondary); flex: 1; margin-left: 20px;">ë‹¨ì¶•í‚¤ ë„ì›€ë§</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-primary); border-radius: 8px;">
                                <kbd style="background: var(--bg-tertiary); padding: 6px 12px; border-radius: 6px; font-family: monospace; font-size: 0.9em; border: 1px solid var(--border-color);">Escape</kbd>
                                <span style="color: var(--text-secondary); flex: 1; margin-left: 20px;">ëª¨ë‹¬ ë‹«ê¸°</span>
                            </div>
                        </div>
                        <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--border-color); color: var(--text-tertiary); font-size: 0.9em; text-align: center;">
                            ğŸ’¡ íŒ: ì´ ë„ì›€ë§ì„ ì–¸ì œë“  <kbd style="background: var(--bg-tertiary); padding: 2px 6px; border-radius: 4px;">Ctrl+/</kbd>ë¡œ ë‹¤ì‹œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', html);
        }
        
        function toggleChatbot() {
            const chatbotModal = document.getElementById('chatbotModal');
            const overlay = document.getElementById('chatbotOverlay');

            if (!chatbotModal) return;

            const isActive = chatbotModal.classList.contains('active');

            if (isActive) {
                // ì±—ë´‡ ë‹«ê¸°
                chatbotModal.classList.remove('active');
                if (overlay) overlay.classList.remove('active');
            } else {
                // ì±—ë´‡ ì—´ê¸°
                chatbotModal.classList.add('active');
                if (overlay) overlay.classList.add('active');

                // ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤
                const input = document.getElementById('chatbotInput');
                if (input && !input.disabled) {
                    setTimeout(() => input.focus(), 100);
                }
            }
        }
        
        function closeChatbot() {
            const modal = document.getElementById('chatbotModal');
            const overlay = document.getElementById('chatbotOverlay');
            if (modal) modal.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
        }
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        document.addEventListener('DOMContentLoaded', function() {
            // ì±—ë´‡ ë‹«ê¸° ë²„íŠ¼
            const chatbotCloseBtn = document.getElementById('chatbotCloseBtn');
            if (chatbotCloseBtn) {
                chatbotCloseBtn.addEventListener('click', closeChatbot);
            }
            
            // ì˜¤ë²„ë ˆì´ í´ë¦­ì‹œ ì±—ë´‡ ë‹«ê¸°
            const overlay = document.getElementById('chatbotOverlay');
            if (overlay) {
                overlay.addEventListener('click', closeChatbot);
            }
            
            // ESC í‚¤ë¡œ ì±—ë´‡ ë‹«ê¸°
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const modal = document.getElementById('chatbotModal');
                    if (modal && modal.classList.contains('active')) {
                        closeChatbot();
                    }
                }
            });
        });
    </script>
</body>
</html>