# app.js ë³´ìˆ˜ì  ë¶„í•  ê³„íš (ì•ˆì „ ìš°ì„ )

> ğŸ’¡ ê¸°ì¡´ ì½”ë“œë¥¼ ìµœëŒ€í•œ ìœ ì§€í•˜ë©´ì„œ, ê¼­ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì ì§„ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ì „ëµ

---

## ğŸ¯ ë³´ìˆ˜ì  ì ‘ê·¼ì˜ í•µì‹¬ ì›ì¹™

1. **ê¸°ì¡´ ì½”ë“œ ìœ ì§€**: ES6 ëª¨ë“ˆ ëŒ€ì‹  ì „ì—­ í•¨ìˆ˜ ë°©ì‹ ìœ ì§€
2. **ì ì§„ì  ë¶„ë¦¬**: í•œ ë²ˆì— í•˜ë‚˜ì”©, í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ì§„í–‰
3. **í•˜ìœ„ í˜¸í™˜ì„±**: ê¸°ì¡´ HTML/JS íŒŒì¼ ìˆ˜ì • ìµœì†Œí™”
4. **ë¡¤ë°± ê°€ëŠ¥**: ì–¸ì œë“  ì´ì „ ìƒíƒœë¡œ ë³µê·€ ê°€ëŠ¥

---

## Phase 1: ìƒìˆ˜ë§Œ ë¶„ë¦¬ (30ë¶„) âœ… ê°€ì¥ ì•ˆì „

## Phase 1: ìƒìˆ˜ë§Œ ë¶„ë¦¬ (30ë¶„) âœ… ê°€ì¥ ì•ˆì „

### ğŸ“ js/config/app-constants.js
**ëª©ì **: ì„¤ì • ìƒìˆ˜ë§Œ ë³„ë„ íŒŒì¼ë¡œ

```javascript
// app-constants.js - ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸ (ES6 ëª¨ë“ˆ X)

const DEFAULT_API_KEYS = {
    groq: '',
    gpt: ''
};

const STORAGE_KEYS = {
    GROQ_API: 'groqApiKey',
    GPT_API: 'gptApiKey',
    CUSTOM_PROMPT: 'customPrompt',
    STYLE_SETTINGS: 'styleSettings',
    FORMAT_OPTIONS: 'formatOptions',
    THEME: 'theme',
    FONT_SIZE: 'fontSize',
    DETAIL_LEVEL: 'detailLevel'
};

const SECTION_NAMES = { /* ... */ };
const STYLE_IDS = [ /* ... */ ];
const FORMAT_IDS = [ /* ... */ ];
const STYLE_DESCRIPTIONS = { /* ... */ };
```

**ì ìš© ë°©ë²•**:
```html
<!-- report.html -->
<script src="js/config/app-constants.js"></script>  <!-- ë¨¼ì € ë¡œë“œ -->
<script src="js/app.js"></script>                   <!-- ê·¸ ë‹¤ìŒ -->
```

**app.js ìˆ˜ì •**:
```javascript
// ì‚­ì œ: const DEFAULT_API_KEYS = { ... };
// ì‚­ì œ: const STORAGE_KEYS = { ... };
// ... ë‚˜ë¨¸ì§€ ìƒìˆ˜ë“¤ ì‚­ì œ

// ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥ (ì „ì—­ ë³€ìˆ˜ë¡œ ì ‘ê·¼)
```

**íš¨ê³¼**:
- âœ… app.js: 1,200ì¤„ â†’ 1,070ì¤„ (130ì¤„ ê°ì†Œ)
- âœ… ìœ„í—˜ë„: â­â˜†â˜†â˜†â˜† (ê±°ì˜ ì—†ìŒ)
- âœ… ë¡¤ë°±: íŒŒì¼ ì‚­ì œ + HTML í•œ ì¤„ ì œê±°

---

## Phase 2: ë³´ì•ˆ í•¨ìˆ˜ ì¤‘ë³µ ì œê±° (30ë¶„) âœ… ì¦‰ì‹œ íš¨ê³¼

### í˜„ì¬ ë¬¸ì œ
```javascript
// app.js 1~80ì¤„
function encodeApiKey(key) { /* ... */ }
function decodeApiKey(encoded) { /* ... */ }
function saveApiKeySafely(keyName, keyValue) { /* ... */ }
function loadApiKeySafely(keyName) { /* ... */ }
function validateApiKeyFormat(key, type) { /* ... */ }

// âš ï¸ security.jsì— ë˜‘ê°™ì€ í•¨ìˆ˜ê°€ ìˆìŒ!
```

### í•´ê²° ë°©ë²•
1. **app.jsì—ì„œ ë³´ì•ˆ í•¨ìˆ˜ ì „ë¶€ ì‚­ì œ** (1~80ì¤„)
2. **HTMLì—ì„œ security.jsë¥¼ ë¨¼ì € ë¡œë“œ**

```html
<!-- report.html -->
<script src="js/security.js"></script>              <!-- 1ìˆœìœ„ -->
<script src="js/config/app-constants.js"></script>  <!-- 2ìˆœìœ„ -->
<script src="js/app.js"></script>                   <!-- 3ìˆœìœ„ -->
```

**íš¨ê³¼**:
- âœ… app.js: 1,070ì¤„ â†’ 990ì¤„ (80ì¤„ ê°ì†Œ)
- âœ… ì¤‘ë³µ ì½”ë“œ ì™„ì „ ì œê±°
- âœ… ìœ„í—˜ë„: â­â­â˜†â˜†â˜† (ë‚®ìŒ)
- âœ… ë¡¤ë°±: app.js ë³µì›

---

## Phase 3: ëª¨ë¸ ì„¤ì • ë¶„ë¦¬ (20ë¶„) âœ… ê°„ë‹¨

### ğŸ“ js/config/model-configs.js

```javascript
// model-configs.js
const MODEL_CONFIGS = {
    groq: {
        name: 'Groq',
        displayName: 'Groq',
        url: 'https://api.groq.com/openai/v1/chat/completions',
        model: 'llama-3.3-70b-versatile',
        temperature: 0.75,
        max_tokens: 3000,
        top_p: 0.92,
        outputId: 'groqOutput',
        loadingId: 'groqLoading',
        copyBtnId: 'groqCopyBtn',
        usageId: 'groqUsage',
        countId: 'groqCount',
        headers: (apiKey) => ({
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${apiKey}`
        })
    },
    gpt: { /* ... */ }
};
```

**ì ìš©**:
```html
<script src="js/config/model-configs.js"></script>
```

**íš¨ê³¼**:
- âœ… app.js: 990ì¤„ â†’ 940ì¤„ (50ì¤„ ê°ì†Œ)
- âœ… ìœ„í—˜ë„: â­â˜†â˜†â˜†â˜†

---

## ğŸš¨ ì—¬ê¸°ê¹Œì§€ê°€ ì•ˆì „í•œ 1ë‹¨ê³„ (ì´ 1ì‹œê°„ 20ë¶„)

**ëˆ„ì  íš¨ê³¼**:
- app.js: **1,200ì¤„ â†’ 940ì¤„ (260ì¤„ ê°ì†Œ, 22% ê°ì†Œ)**
- ìœ„í—˜ë„: ë§¤ìš° ë‚®ìŒ
- ê¸°ì¡´ ê¸°ëŠ¥: 100% ìœ ì§€
- ìƒˆë¡œìš´ ê¸°ëŠ¥: ì—†ìŒ (ë‹¨ìˆœ ì •ë¦¬)

**í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸**:
1. ë³´ê³ ì„œ ìƒì„± ì •ìƒ ì‘ë™?
2. API í‚¤ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° ì •ìƒ?
3. ì„¤ì • ë³€ê²½ ì •ìƒ?

ëª¨ë‘ âœ… â†’ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰
í•˜ë‚˜ë¼ë„ âŒ â†’ ë¡¤ë°± í›„ ì›ì¸ íŒŒì•…

---

## Phase 4: Prompt Builder ë¶„ë¦¬ (1ì‹œê°„) âš ï¸ ì‹ ì¤‘

### ğŸ“ js/features/prompt-builder.js

**ë¶„ë¦¬ ë²”ìœ„**: `buildPrompt()` í•¨ìˆ˜ë§Œ (ì•½ 200ì¤„)

```javascript
// prompt-builder.js
function buildPrompt(input) {
    const customPrompt = getCustomPrompt();
    const formatOptions = getFormatOptions();
    const styleSettings = getStyleSettings();
    const detailLevel = parseInt(localStorage.getItem(STORAGE_KEYS.DETAIL_LEVEL) || '0');
    
    let prompt = '';
    
    // ... ê¸°ì¡´ ë¡œì§ ê·¸ëŒ€ë¡œ
    
    return prompt;
}
```

**app.js ìˆ˜ì •**:
```javascript
// ì‚­ì œ: function buildPrompt(input) { ... }
// ê·¸ëŒ€ë¡œ ì‚¬ìš© (ì „ì—­ í•¨ìˆ˜ë¡œ ì ‘ê·¼)
```

**íš¨ê³¼**:
- âœ… app.js: 940ì¤„ â†’ 740ì¤„ (200ì¤„ ê°ì†Œ)
- âš ï¸ ìœ„í—˜ë„: â­â­â­â˜†â˜† (ì¤‘ê°„)
- âš ï¸ ì˜ì¡´ì„±: `getCustomPrompt()`, `getFormatOptions()`, `getStyleSettings()` í•„ìš”

**ì£¼ì˜ì‚¬í•­**:
- ë¶„ë¦¬ ì „ ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ í•„ìš”
- í”„ë¡¬í”„íŠ¸ ìƒì„± ê²°ê³¼ê°€ ë™ì¼í•œì§€ í™•ì¸

---

## Phase 5: API í•¨ìˆ˜ ë¶€ë¶„ ê°œì„  (2ì‹œê°„) âš ï¸âš ï¸ ê°€ì¥ ì‹ ì¤‘

### í˜„ì¬ ìƒí™©
```javascript
// app.js
async function generateWithGroq(input, apiKey, retryCount = 0) {
    // 200ì¤„ì˜ ë¡œì§
}

async function generateWithGPT(input, apiKey, retryCount = 0) {
    // 200ì¤„ì˜ ë¡œì§ (ê±°ì˜ ë™ì¼)
}
```

### ë³´ìˆ˜ì  ê°œì„ ì•ˆ: ê³µí†µ í—¬í¼ í•¨ìˆ˜ë§Œ ì¶”ì¶œ

**ìƒˆ íŒŒì¼ ìƒì„±í•˜ì§€ ì•Šê³ , app.js ë‚´ë¶€ì—ì„œë§Œ ì •ë¦¬**

```javascript
// app.js ë‚´ë¶€ì— ì¶”ê°€

// === ê³µí†µ í—¬í¼ í•¨ìˆ˜ ===
function initializeGenerationUI(config, elements) {
    elements.output.style.display = 'none';
    elements.loading.classList.add('active');
    if (elements.loadingCompare) elements.loadingCompare.style.display = 'block';
    elements.copyBtn.disabled = true;
    if (elements.usage) elements.usage.textContent = '';
}

function startLoadingMessages(config, elements) {
    const messages = [
        `${config.displayName}ê°€ ë³´ê³ ì„œ ì‘ì„± ì¤‘...`,
        `${config.displayName}ê°€ ë‚´ìš©ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...`,
        `${config.displayName}ê°€ ë³´ê³ ì„œë¥¼ êµ¬ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...`,
        `${config.displayName}ê°€ ìµœì¢… ê²€í†  ì¤‘ì…ë‹ˆë‹¤...`
    ];
    let messageIndex = 0;
    const interval = setInterval(() => {
        messageIndex = (messageIndex + 1) % messages.length;
        if (elements.loadingText) elements.loadingText.textContent = messages[messageIndex];
        if (elements.loadingTextCompare) elements.loadingTextCompare.textContent = messages[messageIndex];
    }, 2000);
    return interval;
}

function updateGenerationUI(config, elements, result) {
    elements.output.setAttribute('data-raw-text', result);
    if (typeof renderMarkdown === 'function') {
        elements.output.innerHTML = renderMarkdown(result);
        elements.output.classList.add('markdown-rendered');
    } else {
        elements.output.textContent = result;
    }
    elements.output.style.display = 'block';
    elements.output.classList.remove('empty');
    elements.copyBtn.disabled = false;
    
    // ... ë‚˜ë¨¸ì§€ UI ì—…ë°ì´íŠ¸
}

// === Groq í•¨ìˆ˜ ê°„ê²°í™” ===
async function generateWithGroq(input, apiKey, retryCount = 0) {
    const config = MODEL_CONFIGS.groq;
    const elements = {
        output: document.getElementById(config.outputId),
        loading: document.getElementById(config.loadingId),
        // ... ë‚˜ë¨¸ì§€ ìš”ì†Œë“¤
    };
    
    initializeGenerationUI(config, elements);
    const messageInterval = startLoadingMessages(config, elements);
    
    try {
        const prompt = buildPrompt(input);
        const systemPrompt = buildSystemPrompt();
        
        const response = await fetch(config.url, {
            method: 'POST',
            headers: config.headers(apiKey),
            body: JSON.stringify({
                model: config.model,
                messages: [
                    { role: 'system', content: systemPrompt },
                    { role: 'user', content: prompt }
                ],
                temperature: config.temperature,
                max_tokens: config.max_tokens,
                top_p: config.top_p
            })
        });
        
        // ... ì‘ë‹µ ì²˜ë¦¬
        
        let result = data.choices[0].message.content;
        
        if (containsUnwantedLanguages(result)) {
            if (retryCount < 2) {
                return await generateWithGroq(input, apiKey, retryCount + 1);
            }
            result = result.replace(/[\u4e00-\u9fff...]/g, '');
        }
        
        updateGenerationUI(config, elements, result);
        
    } catch (error) {
        handleGenerationError(config, elements, error);
    } finally {
        clearInterval(messageInterval);
        elements.loading.classList.remove('active');
    }
}

// GPTë„ ë™ì¼í•˜ê²Œ ê°œì„ 
```

**íš¨ê³¼**:
- âœ… app.js: 740ì¤„ â†’ 600ì¤„ (140ì¤„ ê°ì†Œ)
- âš ï¸âš ï¸ ìœ„í—˜ë„: â­â­â­â­â˜† (ë†’ìŒ)
- ğŸ”„ ìƒˆ íŒŒì¼ ìƒì„± ì—†ìŒ (ë‚´ë¶€ ì •ë¦¬ë§Œ)

---

## ğŸ›‘ ì—¬ê¸°ê¹Œì§€ê°€ ì•ˆì „í•œ 2ë‹¨ê³„ (ì´ 4ì‹œê°„)

**ëˆ„ì  íš¨ê³¼**:
- app.js: **1,200ì¤„ â†’ 600ì¤„ (600ì¤„ ê°ì†Œ, 50% ê°ì†Œ)**
- íŒŒì¼ ìˆ˜: 3ê°œ ì¶”ê°€ (`app-constants.js`, `model-configs.js`, `prompt-builder.js`)
- ê¸°ì¡´ ê¸°ëŠ¥: 100% ìœ ì§€
- ìƒˆë¡œìš´ êµ¬ì¡°: ì „ì—­ í•¨ìˆ˜ ë°©ì‹ ìœ ì§€ (ëª¨ë“ˆ ì—†ìŒ)

---

## ğŸš€ ê¶Œì¥ ì‘ì—… ìˆœì„œ

### Day 1 ì˜¤ì „ (2ì‹œê°„)
```
âœ… Phase 1: ìƒìˆ˜ ë¶„ë¦¬ (30ë¶„)
âœ… Phase 2: ë³´ì•ˆ í•¨ìˆ˜ ì œê±° (30ë¶„)
âœ… Phase 3: ëª¨ë¸ ì„¤ì • ë¶„ë¦¬ (20ë¶„)
ğŸ§ª í…ŒìŠ¤íŠ¸: ë³´ê³ ì„œ ìƒì„±, API í‚¤ ì €ì¥, ì„¤ì • ë³€ê²½ (40ë¶„)
```

**ê²°ê³¼**: app.js 940ì¤„ (260ì¤„ ê°ì†Œ)

### Day 1 ì˜¤í›„ (2ì‹œê°„)
```
âš ï¸ Phase 4: Prompt Builder ë¶„ë¦¬ (1ì‹œê°„)
ğŸ§ª í…ŒìŠ¤íŠ¸: í”„ë¡¬í”„íŠ¸ ìƒì„± ê²°ê³¼ ë™ì¼ì„± í™•ì¸ (30ë¶„)
ğŸ§ª íšŒê·€ í…ŒìŠ¤íŠ¸: ì „ì²´ ê¸°ëŠ¥ ì¬í™•ì¸ (30ë¶„)
```

**ê²°ê³¼**: app.js 740ì¤„ (460ì¤„ ê°ì†Œ)

### Day 2 (ì„ íƒ ì‚¬í•­)
```
âš ï¸âš ï¸ Phase 5: API í•¨ìˆ˜ ê°œì„  (2ì‹œê°„)
ğŸ§ª ì§‘ì¤‘ í…ŒìŠ¤íŠ¸: Groq/GPT ìƒì„± (1ì‹œê°„)
```

**ê²°ê³¼**: app.js 600ì¤„ (600ì¤„ ê°ì†Œ)

---

## ğŸ“Š ë¹„êµ: ë³´ìˆ˜ì  vs ê³µê²©ì 

| êµ¬ë¶„ | ë³´ìˆ˜ì  ì ‘ê·¼ | ê³µê²©ì  ì ‘ê·¼ |
|------|-----------|-----------|
| **ìµœì¢… ì¤„ ìˆ˜** | 600ì¤„ | 100ì¤„ |
| **ì‘ì—… ì‹œê°„** | 4~6ì‹œê°„ | 3ì¼ |
| **íŒŒì¼ ìˆ˜** | +3ê°œ | +13ê°œ |
| **ES6 ëª¨ë“ˆ** | âŒ ì‚¬ìš© ì•ˆ í•¨ | âœ… ì‚¬ìš© |
| **ìœ„í—˜ë„** | â­â­â˜†â˜†â˜† | â­â­â­â­â˜† |
| **ë¡¤ë°± ë‚œì´ë„** | ì‰¬ì›€ | ì–´ë ¤ì›€ |
| **í…ŒìŠ¤íŠ¸ ë²”ìœ„** | ì¢ìŒ | ë„“ìŒ |
| **ì¥ê¸° ìœ ì§€ë³´ìˆ˜** | ë³´í†µ | ìš°ìˆ˜ |

---

## ğŸ’¡ ë³´ìˆ˜ì  ì ‘ê·¼ì˜ ì¥ì 

1. **ì ì§„ì  ê°œì„ **: í•œ ë‹¨ê³„ì”© í™•ì¸í•˜ë©° ì§„í–‰
2. **ë‚®ì€ ìœ„í—˜**: ì–¸ì œë“  ì´ì „ ìƒíƒœë¡œ ë³µê·€ ê°€ëŠ¥
3. **ë¹ ë¥¸ íš¨ê³¼**: 1ì¼ë§Œì— 50% ê°ì†Œ ê°€ëŠ¥
4. **í•™ìŠµ ê³¡ì„ **: ìƒˆë¡œìš´ íŒ¨í„´ í•™ìŠµ í•„ìš” ì—†ìŒ
5. **íŒ€ í˜‘ì—…**: ë‹¤ë¥¸ ê°œë°œìë„ ì‰½ê²Œ ì´í•´

---

## âš ï¸ ê° Phaseë³„ ë¡¤ë°± ë°©ë²•

### Phase 1 ë¡¤ë°±
```bash
# 1. app-constants.js ì‚­ì œ
# 2. app.js ë°±ì—…ë³¸ ë³µì›
# 3. HTMLì—ì„œ <script src="js/config/app-constants.js"></script> ì œê±°
```

### Phase 2 ë¡¤ë°±
```bash
# 1. app.jsì— ë³´ì•ˆ í•¨ìˆ˜ ë‹¤ì‹œ ì¶”ê°€ (Git ë³µì›)
# 2. HTMLì—ì„œ security.js ë¡œë“œ ìˆœì„œ ì›ë˜ëŒ€ë¡œ
```

### Phase 3~5 ë¡¤ë°±
```bash
# Gitì—ì„œ ì´ì „ ì»¤ë°‹ìœ¼ë¡œ ë³µì›
git revert <commit-hash>
```

---

## ğŸ¯ ìµœì¢… ê¶Œì¥ ì‚¬í•­

### 1ë‹¨ê³„ë§Œ ì§„í–‰ (ê°€ì¥ ì•ˆì „)
- **ëª©í‘œ**: app.js 940ì¤„ (260ì¤„ ê°ì†Œ)
- **ì‹œê°„**: 1~2ì‹œê°„
- **ìœ„í—˜**: ê±°ì˜ ì—†ìŒ
- **íš¨ê³¼**: ìƒìˆ˜ ê´€ë¦¬ ê°œì„ 

### 2ë‹¨ê³„ê¹Œì§€ ì§„í–‰ (ê¶Œì¥)
- **ëª©í‘œ**: app.js 600ì¤„ (600ì¤„ ê°ì†Œ)
- **ì‹œê°„**: 4~6ì‹œê°„
- **ìœ„í—˜**: ë‚®ìŒ~ì¤‘ê°„
- **íš¨ê³¼**: ìœ ì˜ë¯¸í•œ ê°œì„ 

### ê³µê²©ì  ì ‘ê·¼ (ë‚˜ì¤‘ì—)
- **ì¡°ê±´**: 2ë‹¨ê³„ ì™„ë£Œ í›„ ì•ˆì •í™”
- **ì‹œê°„**: ì¶”ê°€ 2~3ì¼
- **ëª©í‘œ**: app.js 100ì¤„ (ES6 ëª¨ë“ˆ ì „í™˜)

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ê° Phase ì™„ë£Œ í›„ í™•ì¸:

```
[ ] ë³´ê³ ì„œ ìƒì„± (Groq) ì •ìƒ ì‘ë™
[ ] ë³´ê³ ì„œ ìƒì„± (GPT) ì •ìƒ ì‘ë™
[ ] API í‚¤ ì €ì¥ ì •ìƒ
[ ] API í‚¤ ë¶ˆëŸ¬ì˜¤ê¸° ì •ìƒ
[ ] ì„¤ì • ì €ì¥ ì •ìƒ
[ ] í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì •ìƒ
[ ] ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ ì •ìƒ
[ ] ë³µì‚¬ ê¸°ëŠ¥ ì •ìƒ
[ ] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì •ìƒ
[ ] ì½˜ì†” ì—ëŸ¬ ì—†ìŒ
```

ëª¨ë‘ âœ… â†’ ë‹¤ìŒ Phase ì§„í–‰
í•˜ë‚˜ë¼ë„ âŒ â†’ ë¡¤ë°± í›„ ì›ì¸ íŒŒì•…

---

## ğŸ”§ ì‹¤ì „ íŒ

1. **ë°±ì—… í•„ìˆ˜**
   ```bash
   cp js/app.js js/app.js.backup
   git commit -m "ë°±ì—…: app.js ë¶„í•  ì „"
   ```

2. **í•œ ë²ˆì— í•˜ë‚˜ì”©**
   - Phase 1 ì™„ë£Œ â†’ ì»¤ë°‹
   - Phase 2 ì™„ë£Œ â†’ ì»¤ë°‹
   - Phase 3 ì™„ë£Œ â†’ ì»¤ë°‹

3. **í…ŒìŠ¤íŠ¸ ìë™í™” (ì„ íƒ)**
   ```javascript
   // test.js
   function testReportGeneration() {
     // ê°„ë‹¨í•œ smoke test
   }
   ```

4. **ë¬¸ì„œí™”**
   ```markdown
   # ë³€ê²½ ì´ë ¥
   - 2025-01-01: Phase 1 ì™„ë£Œ (ìƒìˆ˜ ë¶„ë¦¬)
   - 2025-01-01: Phase 2 ì™„ë£Œ (ë³´ì•ˆ í•¨ìˆ˜ ì œê±°)
   ``` ---

## ğŸ¯ ë³´ìˆ˜ì  ì ‘ê·¼ì˜ ìµœì¢… ê²°ë¡ 

### âœ… ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤: 2ë‹¨ê³„ê¹Œì§€ë§Œ

**ì´ìœ **:
1. **ì‹¤ì§ˆì  íš¨ê³¼**: app.js 50% ê°ì†Œ (1,200ì¤„ â†’ 600ì¤„)
2. **ì•ˆì „ì„±**: ë¡¤ë°± ìš©ì´, ìœ„í—˜ ë‚®ìŒ
3. **ì‹œê°„ ëŒ€ë¹„ íš¨ê³¼**: 4~6ì‹œê°„ íˆ¬ìë¡œ í° ê°œì„ 
4. **ì¶”ê°€ ì§„í–‰ ì—¬ì§€**: ì•ˆì •í™” í›„ í•„ìš”ì‹œ 3ë‹¨ê³„ ì§„í–‰

---

## ğŸ“‹ ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¤€ë¹„ ë‹¨ê³„
```
[ ] Git ë°±ì—… í™•ì¸
[ ] app.js ë¡œì»¬ ë°±ì—… (app.js.backup)
[ ] í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¤€ë¹„
[ ] ë³€ê²½ ì´ë ¥ ë¬¸ì„œ ì‘ì„± ì¤€ë¹„
```

### Phase 1: ìƒìˆ˜ ë¶„ë¦¬ (30ë¶„)
```
[ ] js/config/ í´ë” ìƒì„±
[ ] app-constants.js ìƒì„± ë° ì‘ì„±
[ ] app.jsì—ì„œ ìƒìˆ˜ ì œê±°
[ ] report.htmlì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
[ ] settings.htmlì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
[ ] í…ŒìŠ¤íŠ¸: ë³´ê³ ì„œ ìƒì„±
[ ] í…ŒìŠ¤íŠ¸: ì„¤ì • ì €ì¥
[ ] Git ì»¤ë°‹: "refactor: ìƒìˆ˜ë¥¼ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬"
```

### Phase 2: ë³´ì•ˆ í•¨ìˆ˜ ì¤‘ë³µ ì œê±° (30ë¶„)
```
[ ] app.jsì—ì„œ ë³´ì•ˆ í•¨ìˆ˜ ì œê±° (1~80ì¤„)
[ ] security.js ë¡œë“œ ìˆœì„œ í™•ì¸
[ ] í…ŒìŠ¤íŠ¸: API í‚¤ ì €ì¥
[ ] í…ŒìŠ¤íŠ¸: API í‚¤ ë¶ˆëŸ¬ì˜¤ê¸°
[ ] í…ŒìŠ¤íŠ¸: API í‚¤ ê²€ì¦
[ ] Git ì»¤ë°‹: "refactor: ë³´ì•ˆ í•¨ìˆ˜ ì¤‘ë³µ ì œê±°"
```

### Phase 3: ëª¨ë¸ ì„¤ì • ë¶„ë¦¬ (20ë¶„)
```
[ ] model-configs.js ìƒì„± ë° ì‘ì„±
[ ] app.jsì—ì„œ MODEL_CONFIGS ì œê±°
[ ] HTMLì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
[ ] í…ŒìŠ¤íŠ¸: Groq ìƒì„±
[ ] í…ŒìŠ¤íŠ¸: GPT ìƒì„±
[ ] Git ì»¤ë°‹: "refactor: ëª¨ë¸ ì„¤ì • ë¶„ë¦¬"
```

### 1ë‹¨ê³„ ì™„ë£Œ ê²€ì¦
```
[ ] ì „ì²´ ê¸°ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸
[ ] ì½˜ì†” ì—ëŸ¬ ì—†ìŒ
[ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í™•ì¸ (Chrome, Firefox, Edge)
[ ] ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € í™•ì¸
```

---

### Phase 4: Prompt Builder ë¶„ë¦¬ (1ì‹œê°„)
```
[ ] js/features/ í´ë” ìƒì„±
[ ] prompt-builder.js ìƒì„±
[ ] buildPrompt() í•¨ìˆ˜ ì´ë™
[ ] app.jsì—ì„œ í•¨ìˆ˜ ì œê±°
[ ] HTMLì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
[ ] í…ŒìŠ¤íŠ¸: í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°
[ ] í…ŒìŠ¤íŠ¸: í”„ë¡¬í”„íŠ¸ ìƒì„± ê²°ê³¼ ë™ì¼ì„±
[ ] í…ŒìŠ¤íŠ¸: ëª¨ë“  ì˜µì…˜ ì¡°í•© í™•ì¸
[ ] Git ì»¤ë°‹: "refactor: í”„ë¡¬í”„íŠ¸ ë¹Œë” ë¶„ë¦¬"
```

### Phase 5: API í•¨ìˆ˜ ê°œì„  (2ì‹œê°„)
```
[ ] app.js ë‚´ë¶€ì— í—¬í¼ í•¨ìˆ˜ ì‘ì„±
[ ] generateWithGroq() ë¦¬íŒ©í† ë§
[ ] generateWithGPT() ë¦¬íŒ©í† ë§
[ ] í…ŒìŠ¤íŠ¸: Groq ìƒì„± (ì—¬ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤)
[ ] í…ŒìŠ¤íŠ¸: GPT ìƒì„± (ì—¬ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤)
[ ] í…ŒìŠ¤íŠ¸: ì—ëŸ¬ ì²˜ë¦¬ (ì˜ëª»ëœ API í‚¤)
[ ] í…ŒìŠ¤íŠ¸: ì¬ì‹œë„ ë¡œì§
[ ] Git ì»¤ë°‹: "refactor: API í•¨ìˆ˜ ê°œì„ "
```

### 2ë‹¨ê³„ ì™„ë£Œ ê²€ì¦
```
[ ] ì „ì²´ ê¸°ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸
[ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (ìƒì„± ì†ë„ ë™ì¼í•œì§€)
[ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í™•ì¸
[ ] ì¥ì‹œê°„ ì‚¬ìš© í…ŒìŠ¤íŠ¸
```

---

## ğŸ”§ êµ¬ì²´ì  ì½”ë“œ ì˜ˆì‹œ

### Phase 1: app-constants.js ì „ì²´ ì½”ë“œ

```javascript
/**
 * app-constants.js
 * ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ ìƒìˆ˜ ì •ì˜
 * 
 * ì‚¬ìš©ë²•:
 * <script src="js/config/app-constants.js"></script>
 * <script src="js/app.js"></script>
 */

// API í‚¤ ê¸°ë³¸ê°’
const DEFAULT_API_KEYS = {
    groq: '',
    gpt: ''
};

// LocalStorage í‚¤ ì´ë¦„
const STORAGE_KEYS = {
    GROQ_API: 'groqApiKey',
    GPT_API: 'gptApiKey',
    CUSTOM_PROMPT: 'customPrompt',
    STYLE_SETTINGS: 'styleSettings',
    FORMAT_OPTIONS: 'formatOptions',
    THEME: 'theme',
    FONT_SIZE: 'fontSize',
    DETAIL_LEVEL: 'detailLevel'
};

// ë³´ê³ ì„œ ì„¹ì…˜ ì´ë¦„
const SECTION_NAMES = {
    datetime: 'ìƒë‹´ ì¼ì‹œ/íšŒê¸°',
    issue: 'ì£¼ í˜¸ì†Œ ë¬¸ì œ',
    goal: 'ìƒë‹´ ëª©í‘œ',
    process: 'ìƒë‹´ ê³¼ì •/ë‚´ìš©',
    technique: 'ì‚¬ìš©í•œ ê¸°ë²•',
    plan: 'ë‹¤ìŒ íšŒê¸° ê³„íš'
};

// ìŠ¤íƒ€ì¼ ì„¤ì • ID ëª©ë¡
const STYLE_IDS = [
    'length', 'terminology', 'expression', 'focus', 'technique', 
    'emotion', 'counselor', 'structure', 'plan', 'audience', 'approach'
];

// í¬ë§· ì˜µì…˜ ID ëª©ë¡
const FORMAT_IDS = [
    'datetime', 'issue', 'goal', 'process', 'technique', 'plan'
];

// ìŠ¤íƒ€ì¼ ì„¤ëª…
const STYLE_DESCRIPTIONS = {
    length: {
        'ê°„ê²°í•˜ê²Œ': 'í•µì‹¬ ë‚´ìš©ë§Œ ê°„ê²°í•˜ê²Œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•œë‹¤. ë¶ˆí•„ìš”í•œ ì„¸ë¶€ì‚¬í•­ì€ ì œì™¸í•œë‹¤.',
        'ìƒì„¸í•˜ê²Œ': 'êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì„œìˆ í•œë‹¤. ë§¥ë½ê³¼ ë‰˜ì•™ìŠ¤ë¥¼ ì¶©ë¶„íˆ ë‹´ì•„ í’ë¶€í•˜ê²Œ ì‘ì„±í•œë‹¤.'
    },
    terminology: {
        'ì „ë¬¸ì ': 'ì „ë¬¸ ì‹¬ë¦¬í•™ ìš©ì–´ë¥¼ ì ê·¹ ì‚¬ìš©í•œë‹¤. ì´ë¡ ì  ê°œë…ê³¼ ì „ë¬¸ ìš©ì–´ë¥¼ í¬í•¨í•œë‹¤.',
        'í‰ì´í•¨': 'ëˆ„êµ¬ë‚˜ ì´í•´í•  ìˆ˜ ìˆëŠ” ì‰¬ìš´ í‘œí˜„ì„ ì‚¬ìš©í•œë‹¤. ì „ë¬¸ ìš©ì–´ë¥¼ ìµœëŒ€í•œ ë°°ì œí•œë‹¤.'
    },
    expression: {
        'ì§ì ‘ì¸ìš©': 'ë‚´ë‹´ìì˜ ì‹¤ì œ ë°œì–¸ì„ ì¸ìš©ë¶€í˜¸ë¡œ í‘œì‹œí•˜ì—¬ í¬í•¨í•œë‹¤. ë‚´ë‹´ìê°€ í•œ ë§ì„ ê·¸ëŒ€ë¡œ ì¸ìš©í•œë‹¤.',
        'ê´€ì°°ìœ„ì£¼': 'ìƒë‹´ì‚¬ì˜ ê´€ì°°ê³¼ í•´ì„ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì‘ì„±í•œë‹¤. ì§ì ‘ ì¸ìš©ì€ ìµœì†Œí™”í•˜ê³  ë¶„ì„ì  ê´€ì ì„ ê°•ì¡°í•œë‹¤.'
    },
    focus: {
        'ê°•ì ì¤‘ì‹¬': 'ë‚´ë‹´ìì˜ ê°•ì , ìì›, ê¸ì •ì  ì¸¡ë©´ì„ ê°•ì¡°í•œë‹¤. ì–´ë ¤ì›€ë„ ì„±ì¥ì˜ ê¸°íšŒë¡œ ì¬êµ¬ì„±í•œë‹¤.',
        'ë¬¸ì œì¤‘ì‹¬': 'í˜¸ì†Œ ë¬¸ì œ, ì¦ìƒ, ì–´ë ¤ì›€ì— ì´ˆì ì„ ë§ì¶˜ë‹¤. ë¬¸ì œë¥¼ ì§ì ‘ì ì´ê³  ì² ì €í•˜ê²Œ ë‹¤ë£¬ë‹¤.'
    },
    technique: {
        'ê¸°ë²•ëª…ì‹œ': 'ì‚¬ìš©í•œ ìƒë‹´ ê¸°ë²•ì„ ëª…í™•íˆ ëª…ì‹œí•œë‹¤ (ì˜ˆ: "ì¸ì§€ì  ì¬êµ¬ì„±(Cognitive Restructuring)", "ê³µê°ì  ê²½ì²­"). ì´ë¡ ì  ê·¼ê±°ë„ ë°íŒë‹¤.',
        'ê³¼ì •ì¤‘ì‹¬': 'íšŒê¸°ì˜ íë¦„ê³¼ ë‚´ë‹´ì ë°˜ì‘ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„œìˆ í•œë‹¤. ê¸°ë²• ì´ë¦„ë³´ë‹¤ëŠ” ì‹¤ì œ ê³¼ì •ì„ ìƒì„¸íˆ ê¸°ìˆ í•œë‹¤.'
    },
    emotion: {
        'ì •ì„œê°•ì¡°': 'ì •ì„œ í‘œí˜„ì„ ìƒì„¸íˆ ê¸°ìˆ í•œë‹¤. ê°ì •ì˜ ë³€í™”ì™€ ê°•ë„ë¥¼ ì„¸ë°€í•˜ê²Œ ì¶”ì í•œë‹¤.',
        'ê°ê´€ì ': 'ê°ê´€ì  ì‚¬ì‹¤ê³¼ ê´€ì°° ê°€ëŠ¥í•œ í–‰ë™ì— ì§‘ì¤‘í•œë‹¤. ì£¼ê´€ì  ì •ì„œ í‘œí˜„ì€ ìµœì†Œí™”í•œë‹¤.'
    },
    counselor: {
        'ë°˜ì‘í¬í•¨': 'ìƒë‹´ì‚¬ì˜ ë°˜ì‘, ì—­ì „ì´, ì¹˜ë£Œ ê³¼ì •ì— ëŒ€í•œ ì„±ì°°ì„ í¬í•¨í•œë‹¤.',
        'ë‚´ë‹´ìë§Œ': 'ë‚´ë‹´ìì—ê²Œ ì£¼ë¡œ ì´ˆì ì„ ë§ì¶˜ë‹¤. ìƒë‹´ì‚¬ì˜ ë°˜ì‘ì€ ë°°ê²½ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.'
    },
    structure: {
        'ì‹œê°„ìˆœ': 'íšŒê¸°ì˜ ì‹œê°„ ìˆœì„œëŒ€ë¡œ êµ¬ì„±í•œë‹¤. ì²˜ìŒë¶€í„° ëê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ ê¸°ìˆ í•œë‹¤.',
        'ì£¼ì œë³„': 'ì£¼ì œë³„ë¡œ ë‚´ìš©ì„ ë¬¶ì–´ì„œ êµ¬ì„±í•œë‹¤. ë°œìƒ ì‹œì ê³¼ ë¬´ê´€í•˜ê²Œ ê´€ë ¨ ë‚´ìš©ì„ í•¨ê»˜ ë°°ì¹˜í•œë‹¤.'
    },
    plan: {
        'êµ¬ì²´ì ': 'êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤. ëª©í‘œ, ë°©ë²•, ê³¼ì œë¥¼ ëª…í™•íˆ ì œì‹œí•œë‹¤.',
        'ë°©í–¥ì„±': 'ì „ë°˜ì ì¸ ë°©í–¥ê³¼ í° í‹€ì˜ ëª©í‘œë§Œ ì œì‹œí•œë‹¤. ìœ ì—°í•˜ê³  íƒìƒ‰ì ì¸ ê³„íšì„ ì„¸ìš´ë‹¤.'
    },
    audience: {
        'ìŠˆí¼ë¹„ì „': 'ìŠˆí¼ë¹„ì „ì„ ìœ„í•´ ì‘ì„±í•œë‹¤. ìƒë‹´ì‚¬ì˜ ê°œì…, ê³ ë¯¼, ì§ˆë¬¸ì„ í¬í•¨í•œë‹¤.',
        'í•™ë¶€ëª¨': 'í•™ë¶€ëª¨/ë³´í˜¸ìë¥¼ ìœ„í•´ ì‘ì„±í•œë‹¤. ì‰½ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì–¸ì–´ë¡œ, ì‹¤ìš©ì  ì •ë³´ì— ì´ˆì ì„ ë§ì¶˜ë‹¤.',
        'ê¸°ê´€': 'ê¸°ê´€ ì œì¶œìš©ìœ¼ë¡œ ì‘ì„±í•œë‹¤. ê°ê´€ì ì´ê³  ì „ë¬¸ì ì¸ í†¤ìœ¼ë¡œ í•„ìš”í•œ ì •ë³´ë¥¼ ëª¨ë‘ í¬í•¨í•œë‹¤.'
    },
    approach: {
        'ì¸ì§€í–‰ë™': 'ì¸ì§€í–‰ë™ì¹˜ë£Œ(CBT) ê´€ì ì„ ì ìš©í•œë‹¤. ìƒê°-ê°ì •-í–‰ë™ì˜ ì—°ê²°ì— ì£¼ëª©í•˜ê³  ì¸ì§€í–‰ë™ì¹˜ë£Œ ê°œë…ì„ í™œìš©í•œë‹¤.',
        'ì •ì‹ ì—­ë™': 'ì •ì‹ ì—­ë™ì  ê´€ì ì„ ì ìš©í•œë‹¤. ë¬´ì˜ì‹ì  ê³¼ì •, ë°©ì–´ê¸°ì œ, ì „ì´/ì—­ì „ì´ë¥¼ ê³ ë ¤í•œë‹¤.',
        'ì¸ê°„ì¤‘ì‹¬': 'ì¸ê°„ì¤‘ì‹¬ ìƒë‹´ ê´€ì ì„ ì ìš©í•œë‹¤. ê³µê°, ë¬´ì¡°ê±´ì  ê¸ì •ì  ì¡´ì¤‘, ì§„ì†”ì„±ì„ ê°•ì¡°í•œë‹¤.',
        'ë°œë‹¬ì‹¬ë¦¬': 'ë°œë‹¬ì‹¬ë¦¬í•™ì  ê´€ì ì„ ì ìš©í•œë‹¤. ì—°ë ¹ì— ì í•©í•œ ê³¼ì—…, ë°œë‹¬ ë‹¨ê³„, ì´ì •í‘œë¥¼ ê³ ë ¤í•œë‹¤.',
        'í•´ê²°ì¤‘ì‹¬': 'í•´ê²°ì¤‘ì‹¬ ë‹¨ê¸°ì¹˜ë£Œ ê´€ì ì„ ì ìš©í•œë‹¤. ê°•ì , ì˜ˆì™¸ ìƒí™©, ë¯¸ë˜ í•´ê²°ì±…ì— ì´ˆì ì„ ë§ì¶˜ë‹¤.',
        'ê²ŒìŠˆíƒˆíŠ¸': 'ê²ŒìŠˆíƒˆíŠ¸ ì¹˜ë£Œ ê´€ì ì„ ì ìš©í•œë‹¤. í˜„ì¬ ìê°, ì ‘ì´‰, ê²½í—˜ì  ê³¼ì •ì„ ì¤‘ì‹œí•œë‹¤.',
        'ê°€ì¡±ì²´ê³„': 'ê°€ì¡±ì²´ê³„ ì¹˜ë£Œ ê´€ì ì„ ì ìš©í•œë‹¤. ê´€ê³„ íŒ¨í„´, ê²½ê³„, ì²´ê³„ì  ì—­ë™ì„ ê³ ë ¤í•œë‹¤.',
        'ì• ì°©ì´ë¡ ': 'ì• ì°©ì´ë¡  ê´€ì ì„ ì ìš©í•œë‹¤. ì• ì°© íŒ¨í„´, ê´€ê³„ ì—­ë™, ì• ì°© ì•ˆì •ì„±ì— ì£¼ëª©í•œë‹¤.',
        'í˜„ì‹¤ì¹˜ë£Œ': 'í˜„ì‹¤ì¹˜ë£Œ ê´€ì ì„ ì ìš©í•œë‹¤. ì„ íƒ, ì±…ì„, í˜„ì¬ì˜ í–‰ë™ì„ ê°•ì¡°í•œë‹¤.',
        'í†µí•©ì ': 'í†µí•©ì  ì ‘ê·¼ì„ ì‚¬ìš©í•œë‹¤. ë‚´ë‹´ì í•„ìš”ì— ë”°ë¼ ì—¬ëŸ¬ ì´ë¡ ì  ê´€ì ì„ ìœ ì—°í•˜ê²Œ ê²°í•©í•œë‹¤.'
    }
};

console.log('[AppConstants] ìƒìˆ˜ íŒŒì¼ ë¡œë“œ ì™„ë£Œ');
```

### Phase 3: model-configs.js ì „ì²´ ì½”ë“œ

```javascript
/**
 * model-configs.js
 * AI ëª¨ë¸ë³„ ì„¤ì • ì •ì˜
 */

const MODEL_CONFIGS = {
    groq: {
        name: 'Groq',
        displayName: 'Groq',
        url: 'https://api.groq.com/openai/v1/chat/completions',
        model: 'llama-3.3-70b-versatile',
        temperature: 0.75,
        max_tokens: 3000,
        top_p: 0.92,
        outputId: 'groqOutput',
        loadingId: 'groqLoading',
        copyBtnId: 'groqCopyBtn',
        usageId: 'groqUsage',
        countId: 'groqCount',
        headers: (apiKey) => ({
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${apiKey}`
        })
    },
    gpt: {
        name: 'GPT',
        displayName: 'GPT-4o-mini',
        url: 'https://openrouter.ai/api/v1/chat/completions',
        model: 'openai/gpt-4o-mini',
        temperature: 0.7,
        max_tokens: 3000,
        outputId: 'gptOutput',
        loadingId: 'gptLoading',
        copyBtnId: 'gptCopyBtn',
        usageId: 'gptUsage',
        countId: 'gptCount',
        headers: (apiKey) => ({
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${apiKey}`,
            'HTTP-Referer': 'https://counseling-journal.app',
            'X-Title': 'Counseling Journal Tool'
        })
    }
};

console.log('[ModelConfigs] ëª¨ë¸ ì„¤ì • ë¡œë“œ ì™„ë£Œ');
```

---

## ğŸ“ HTML ìˆ˜ì • ì˜ˆì‹œ

### report.html ìˆ˜ì •

```html
<!-- ê¸°ì¡´ -->
<script src="js/security.js?v=20251109007"></script>
<script src="js/app.js?v=20251109007"></script>

<!-- ë³€ê²½ í›„ (Phase 1~3 ì™„ë£Œ ì‹œ) -->
<script src="js/security.js?v=20251110001"></script>
<script src="js/config/app-constants.js?v=20251110001"></script>
<script src="js/config/model-configs.js?v=20251110001"></script>
<script src="js/app.js?v=20251110001"></script>

<!-- Phase 4 ì¶”ê°€ ì‹œ -->
<script src="js/features/prompt-builder.js?v=20251110002"></script>
```

**ì£¼ì˜ì‚¬í•­**:
- ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤! (ì˜ì¡´ì„± ìˆœì„œëŒ€ë¡œ ë¡œë“œ)
- ë²„ì „ ë²ˆí˜¸ ë³€ê²½í•˜ì—¬ ìºì‹œ ë¬´íš¨í™”

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

```javascript
// ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

// 1. ë³´ê³ ì„œ ìƒì„±
[ ] ì…ë ¥ë€ì— í…ìŠ¤íŠ¸ ì…ë ¥
[ ] "ë³´ê³ ì„œ ì‘ì„±" ë²„íŠ¼ í´ë¦­
[ ] Groq ê²°ê³¼ ì •ìƒ ì¶œë ¥
[ ] GPT ê²°ê³¼ ì •ìƒ ì¶œë ¥
[ ] ê¸€ììˆ˜ í‘œì‹œ ì •ìƒ

// 2. API í‚¤ ê´€ë¦¬
[ ] ì„¤ì • ì—´ê¸°
[ ] API í‚¤ ì…ë ¥
[ ] "ì„¤ì • ì €ì¥" í´ë¦­
[ ] í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
[ ] API í‚¤ ìœ ì§€ í™•ì¸
[ ] API í‚¤ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
[ ] API í‚¤ ì‚­ì œ

// 3. í”„ë¡¬í”„íŠ¸ ì„¤ì •
[ ] "ë‚˜ë§Œì˜ ì‘ì„± ê·œì¹™" ì…ë ¥
[ ] "ë³´ê³ ì„œ ê¸°ìˆ " ì„¤ì • ë³€ê²½
[ ] "ë³´ê³ ì„œ êµ¬ì¡°" ì„¤ì • ë³€ê²½
[ ] "ë¶„ëŸ‰/ìƒì„¸ë„" ì¡°ì ˆ
[ ] ì„¤ì • ì €ì¥ í›„ ë³´ê³ ì„œ ìƒì„±
[ ] ì„¤ì • ë°˜ì˜ í™•ì¸

// 4. ë‚´ë³´ë‚´ê¸°
[ ] TXT ë‚´ë³´ë‚´ê¸°
[ ] DOCX ë‚´ë³´ë‚´ê¸°
[ ] PDF ë‚´ë³´ë‚´ê¸°

// 5. ê¸°íƒ€ ê¸°ëŠ¥
[ ] ë³µì‚¬ ë²„íŠ¼
[ ] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (Ctrl+Enter)
[ ] í…Œë§ˆ ë³€ê²½
[ ] ê¸€ì”¨ í¬ê¸° ì¡°ì ˆ
```

### ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

```javascript
// ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

[ ] API í‚¤ ì—†ì´ ìƒì„± ì‹œë„ â†’ ì—ëŸ¬ ë©”ì‹œì§€
[ ] ì˜ëª»ëœ API í‚¤ â†’ 401 ì—ëŸ¬ ì²˜ë¦¬
[ ] ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œë®¬ë ˆì´ì…˜
[ ] 7000ì ì´ˆê³¼ ì…ë ¥ â†’ ì œí•œ ë™ì‘
[ ] ë¹ˆ ì…ë ¥ìœ¼ë¡œ ìƒì„± ì‹œë„ â†’ ì—ëŸ¬ ë©”ì‹œì§€
```

---

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ & í•´ê²°

### ì´ìŠˆ 1: ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œ
**ì¦ìƒ**: `STORAGE_KEYS is not defined` ì—ëŸ¬
**ì›ì¸**: app-constants.jsê°€ app.jsë³´ë‹¤ ëŠ¦ê²Œ ë¡œë“œë¨
**í•´ê²°**: HTMLì—ì„œ ë¡œë“œ ìˆœì„œ í™•ì¸

### ì´ìŠˆ 2: ìºì‹œ ë¬¸ì œ
**ì¦ìƒ**: ì½”ë“œ ìˆ˜ì •í–ˆëŠ”ë° ì´ì „ ë²„ì „ ì‹¤í–‰
**ì›ì¸**: ë¸Œë¼ìš°ì € ìºì‹œ
**í•´ê²°**: 
```html
<!-- ë²„ì „ ë²ˆí˜¸ ë³€ê²½ -->
<script src="js/app.js?v=20251110001"></script>
<!-- ë˜ëŠ” ê°•ì œ ìƒˆë¡œê³ ì¹¨: Ctrl+Shift+R -->
```

### ì´ìŠˆ 3: ì „ì—­ í•¨ìˆ˜ ì ‘ê·¼ ì˜¤ë¥˜
**ì¦ìƒ**: `buildPrompt is not a function` ì—ëŸ¬
**ì›ì¸**: í•¨ìˆ˜ê°€ ë‹¤ë¥¸ íŒŒì¼ë¡œ ì´ë™í–ˆëŠ”ë° ì „ì—­ ìŠ¤ì½”í”„ì— ì—†ìŒ
**í•´ê²°**: ì´ë™í•œ íŒŒì¼ì„ HTMLì—ì„œ ë¡œë“œí–ˆëŠ”ì§€ í™•ì¸

---

## ğŸ“Š ì§„í–‰ ìƒí™© ì¶”ì  í…œí”Œë¦¿

```markdown
# app.js ë¶„í•  ì§„í–‰ ìƒí™©

## Phase 1: ìƒìˆ˜ ë¶„ë¦¬
- [ ] ì‘ì—… ì‹œì‘: 
- [ ] íŒŒì¼ ìƒì„±: app-constants.js
- [ ] app.js ìˆ˜ì •
- [ ] HTML ìˆ˜ì •
- [ ] í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ì»¤ë°‹ ì™„ë£Œ
- [ ] ì‘ì—… ì¢…ë£Œ:

**ë¬¸ì œì **:
- 

**í•´ê²° ë°©ë²•**:
- 

---

## Phase 2: ë³´ì•ˆ í•¨ìˆ˜ ì œê±°
- [ ] ì‘ì—… ì‹œì‘:
- [ ] app.js ìˆ˜ì • (1~80ì¤„ ì‚­ì œ)
- [ ] HTML ë¡œë“œ ìˆœì„œ í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ì»¤ë°‹ ì™„ë£Œ
- [ ] ì‘ì—… ì¢…ë£Œ:

**ë¬¸ì œì **:
- 

**í•´ê²° ë°©ë²•**:
- 

---

(ì´í•˜ ìƒëµ)
```

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

ì´ ë¦¬íŒ©í† ë§ì„ í†µí•´ ë°°ìš¸ ìˆ˜ ìˆëŠ” ê²ƒë“¤:

1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP)**: ê° íŒŒì¼ì´ í•˜ë‚˜ì˜ ì±…ì„ë§Œ
2. **ì˜ì¡´ì„± ê´€ë¦¬**: ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìˆœì„œì˜ ì¤‘ìš”ì„±
3. **ì ì§„ì  ê°œì„ **: í•œ ë²ˆì— ëª¨ë“  ê²ƒì„ ë°”ê¾¸ì§€ ì•Šê¸°
4. **í…ŒìŠ¤íŠ¸ì˜ ì¤‘ìš”ì„±**: ê° ë‹¨ê³„ë§ˆë‹¤ ê²€ì¦
5. **ë¡¤ë°± ì „ëµ**: í•­ìƒ ë˜ëŒë¦´ ìˆ˜ ìˆê²Œ

---

## ğŸ’¬ ë‹¤ìŒ ë‹¨ê³„ ë…¼ì˜ ì‚¬í•­

2ë‹¨ê³„ ì™„ë£Œ í›„ ì•ˆì •í™”ë˜ë©´:

### ì˜µì…˜ A: ES6 ëª¨ë“ˆ ì „í™˜
- `import/export` ì‚¬ìš©
- ë” í˜„ëŒ€ì ì¸ êµ¬ì¡°
- ë²ˆë“¤ëŸ¬ ë„ì… ê³ ë ¤

### ì˜µì…˜ B: TypeScript ì „í™˜
- íƒ€ì… ì•ˆì •ì„±
- ê°œë°œ ê²½í—˜ í–¥ìƒ
- IDE ì§€ì› ê°•í™”

### ì˜µì…˜ C: í˜„ì¬ ìƒíƒœ ìœ ì§€
- 600ì¤„ë„ ì¶©ë¶„íˆ ê´€ë¦¬ ê°€ëŠ¥
- ì¶”ê°€ ë³µì¡ë„ ì—†ìŒ
- ì•ˆì •ì„± ìµœìš°ì„ 

ì–´ë–¤ ì˜µì…˜ì´ ì¢‹ì„ì§€ëŠ” **íŒ€ ìƒí™©**ê³¼ **í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­**ì— ë”°ë¼ ê²°ì •!

---

## âœ… ìµœì¢… ìš”ì•½

### ë³´ìˆ˜ì  ì ‘ê·¼ (ê¶Œì¥)
```
Phase 1~3 (2ì‹œê°„)
â†’ app.js: 1,200ì¤„ â†’ 940ì¤„
â†’ ìœ„í—˜ë„: â­â­â˜†â˜†â˜†
â†’ ìƒìˆ˜/ì„¤ì • ì •ë¦¬

Phase 4~5 (3ì‹œê°„)
â†’ app.js: 940ì¤„ â†’ 600ì¤„
â†’ ìœ„í—˜ë„: â­â­â­â˜†â˜†
â†’ í•µì‹¬ ë¡œì§ ê°œì„ 

ì´ 5ì‹œê°„, 50% ê°ì†Œ
ì•ˆì „í•˜ê³  ì‹¤ìš©ì !
```

### ê³µê²©ì  ì ‘ê·¼ (ë‚˜ì¤‘ì—)
```
Phase 1~10 (3ì¼)
â†’ app.js: 1,200ì¤„ â†’ 100ì¤„
â†’ ìœ„í—˜ë„: â­â­â­â­â˜†
â†’ ì™„ì „í•œ ì¬êµ¬ì¡°í™”

ES6 ëª¨ë“ˆ, í´ë˜ìŠ¤ ê¸°ë°˜
ìµœì‹  íŒ¨í„´ ì ìš©
ì¥ê¸°ì ìœ¼ë¡œ ìµœê³ !
```

**ê²°ë¡ **: ë¨¼ì € ë³´ìˆ˜ì ìœ¼ë¡œ ì‹œì‘í•˜ê³ , ì„±ê³µ í›„ í•„ìš”ì‹œ ê³µê²©ì ìœ¼ë¡œ! 50);
}
```

---

## ğŸ“Š ë¶„í•  íš¨ê³¼

### Before (í˜„ì¬)
```
app.js: 1,200ì¤„ (40KB)
- ëª¨ë“  ê¸°ëŠ¥ì´ í•œ ê³³ì—
- ë””ë²„ê¹… ì–´ë ¤ì›€
- ìˆ˜ì • ì‹œ ì „ì²´ íŒŒì¼ ê²€í†  í•„ìš”
```

### After (ë¶„í•  í›„)
```
app.js: 100ì¤„ (3KB) â† 92% ê°ì†Œ!

+ config/constants.js: 130ì¤„
+ config/models.js: 50ì¤„
+ core/storage.js: 120ì¤„
+ core/api-client.js: 150ì¤„ â† Groq+GPT í†µí•©
+ features/report/report-generator.js: 80ì¤„
+ features/report/prompt-builder.js: 200ì¤„
+ features/report/report-exporter.js: 150ì¤„
+ settings/settings-manager.js: 120ì¤„
+ settings/api-key-manager.js: 80ì¤„
+ ui/toast.js: 30ì¤„
+ ui/modal.js: 60ì¤„
+ ui/keyboard-shortcuts.js: 80ì¤„
+ utils/validators.js: 50ì¤„
```

---

## ğŸ¯ ì‘ì—… ìš°ì„ ìˆœìœ„

### 1ë‹¨ê³„ (ê¸´ê¸‰ - 1ì¼)
âœ… **Phase 1**: ìƒìˆ˜ ë¶„ë¦¬ â†’ ê°€ì¥ ì‰¬ì›€
âœ… **Phase 2**: ìœ í‹¸ë¦¬í‹° ë¶„ë¦¬ â†’ ì˜ì¡´ì„± ì—†ìŒ
âœ… **Phase 6**: API Client í†µí•© â­ â†’ ê°€ì¥ í° íš¨ê³¼

### 2ë‹¨ê³„ (ì¤‘ìš” - 1ì¼)
ğŸ”¸ **Phase 3**: Storage ê´€ë¦¬
ğŸ”¸ **Phase 7**: Prompt Builder

### 3ë‹¨ê³„ (ê°œì„  - 1ì¼)
ğŸ”¹ **Phase 4**: UI ì»´í¬ë„ŒíŠ¸
ğŸ”¹ **Phase 5**: Settings ê´€ë¦¬
ğŸ”¹ **Phase 8**: Report Generator
ğŸ”¹ **Phase 9**: Export ê¸°ëŠ¥

### 4ë‹¨ê³„ (ì •ë¦¬ - 0.5ì¼)
ğŸ”¹ **Phase 10**: app.js ìµœì¢… ì •ë¦¬

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### HTML íŒŒì¼ ìˆ˜ì • í•„ìš”
```html
<!-- report.html ì˜ˆì‹œ -->
<!-- ê¸°ì¡´ -->
<script src="js/security.js"></script>
<script src="js/app.js"></script>

<!-- ë³€ê²½ í›„ -->
<script type="module" src="js/core/app.js"></script>
```

### import êµ¬ë¬¸ ì‚¬ìš©
- ES6 ëª¨ë“ˆ ë°©ì‹ ì‚¬ìš©
- `type="module"` í•„ìˆ˜
- ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í™•ì¸ í•„ìš”

### ê¸°ì¡´ ì½”ë“œì™€ì˜ í˜¸í™˜ì„±
- ì „ì—­ í•¨ìˆ˜ë¥¼ í´ë˜ìŠ¤ ë©”ì„œë“œë¡œ ë³€ê²½
- ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥
- ê¸°ì¡´ ì½”ë“œì™€ ë³‘í–‰ ìš´ì˜ í›„ ì™„ì „ ì „í™˜

---

## ğŸ’¡ ì¶”ê°€ ê°œì„  ì‚¬í•­

### 1. TypeScript ì „í™˜ ê³ ë ¤
- JSDoc â†’ TypeScript
- íƒ€ì… ì•ˆì •ì„± í™•ë³´

### 2. í…ŒìŠ¤íŠ¸ ì‘ì„±
```javascript
// test/api-client.test.js
describe('ApiClient', () => {
  test('generate() should return valid response', async () => {
    const result = await ApiClient.generate('groq', 'test', 'api-key');
    expect(result).toBeDefined();
  });
});
```

### 3. ë²ˆë“¤ëŸ¬ ë„ì…
- Vite ë˜ëŠ” Webpack
- íŒŒì¼ ìˆ˜ ìµœì í™”
- íŠ¸ë¦¬ ì‰ì´í‚¹

---

## ğŸ“š ì°¸ê³ : ë””ë ‰í† ë¦¬ êµ¬ì¡° ìµœì¢…ì•ˆ

```
js/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ app.js (100ì¤„)
â”‚   â”œâ”€â”€ api-client.js (150ì¤„)
â”‚   â””â”€â”€ storage.js (120ì¤„)
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ constants.js (130ì¤„)
â”‚   â””â”€â”€ models.js (50ì¤„)
â”‚
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ report/
â”‚   â”‚   â”œâ”€â”€ report-generator.js (80ì¤„)
â”‚   â”‚   â”œâ”€â”€ prompt-builder.js (200ì¤„)
â”‚   â”‚   â””â”€â”€ report-exporter.js (150ì¤„)
â”‚   â”œâ”€â”€ chatbot/
â”‚   â”‚   â””â”€â”€ chatbot.js (ê¸°ì¡´)
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ settings-manager.js (120ì¤„)
â”‚       â””â”€â”€ api-key-manager.js (80ì¤„)
â”‚
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ toast.js (30ì¤„)
â”‚   â”œâ”€â”€ modal.js (60ì¤„)
â”‚   â””â”€â”€ keyboard-shortcuts.js (80ì¤„)
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ validators.js (50ì¤„)
    â”œâ”€â”€ security.js (ê¸°ì¡´)
    â””â”€â”€ error-handler.js (ê¸°ì¡´)
```

ì´ ì¤„ ìˆ˜: **ì•½ 1,400ì¤„** (ê¸°ì¡´ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ **í›¨ì”¬ ëª…í™•í•˜ê³  ìœ ì§€ë³´ìˆ˜ ìš©ì´**)
